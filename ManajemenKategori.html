<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manajemen Kategori - Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">
  <!-- Header -->
  <header class="bg-gradient-to-r from-red-600 to-black p-4 text-white">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
      <h1 class="text-3xl font-bold">SAMIKADOS <a href="AdminView.html"><span class="text-lg">ADMIN</span></a></h1>
      <div class="relative w-full md:w-1/2 lg:w-1/3 mt-4 md:mt-0">
        <input type="text" placeholder="Search..." class="w-full pl-12 text-black pr-4 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-white">
        <img src="icon/search.png" class="absolute left-3 top-1/2 transform -translate-y-1/2" alt="Search Icon">
      </div>
      <div class="flex items-center space-x-4 mt-4 md:mt-0">
        <a href="Notifikasi.html"><img src="icon/notification (1).png" alt="Notification Icon"></a>
        <a href="PengaturanAkunAdmin.html"><img src="icon/profile.png" alt="User Icon"></a>
        <span>AdminSamikados</span>
      </div>
    </div>
  </header>

  <div class="flex flex-col md:flex-row">
    <!-- Sidebar -->
    <aside class="w-full md:w-64 bg-white shadow-md h-auto md:h-screen p-6">
      <nav>
        <ul class="space-y-4">
          <li><a href="Dashboard.html" class="block text-gray-700">Dashboard</a></li>
          <li class="bg-red-600 text-white p-2 rounded-lg">
            <a href="ManajemenKategori.html" class="block">Manajemen Kategori</a>
          </li>
          <li><a href="ManajemenAkun.html" class="block text-gray-700">Manajemen Akun</a></li>
          <li><a href="ManajemenProduk.html" class="block text-gray-700">Manajemen Produk</a></li>
          <li><a href="Laporan.html" class="block text-gray-700">Laporan</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold">Manajemen Kategori</h2>
        <button onclick="openAddCategoryModal()" class="border border-black px-4 py-2 rounded-lg flex items-center space-x-2">
          <img src="icon/add (1).png" alt="Add Icon">
          <span>Kategori</span>
        </button>
      </div>

      <!-- Responsive Table -->
      <div class="overflow-auto rounded-lg shadow-md">
        <table class="w-full table-auto border-collapse border border-gray-300">
          <thead class="bg-red-600 text-white">
            <tr>
              <th class="p-4 text-center border-r border-gray-300">Nama Kategori</th>
              <th class="p-4 text-center border-r border-gray-300">Deskripsi</th>
              <th class="p-4 text-center border-r border-gray-300">Jumlah Produk</th>
              <th class="p-4 text-center border-r border-gray-300">Icon</th>
              <th class="p-4 text-center">Aksi</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-300">
              <td class="p-4 text-center border-r border-gray-300">
                <a href="Kategori.html">Merchandise</a>
              </td>
              <td class="p-4 text-center border-r border-gray-300">Nikmati kualitas premium</td>
              <td class="p-4 text-center border-r border-gray-300" id="productCount">20</td>
              <td class="p-4 text-center border-r border-gray-300">
                <img src="icon/printer.png" alt="Icon" class="mx-auto">
              </td>
              <td class="p-4 text-center">
                <button class="p-2" onclick="openEditCategoryModal()"><img src="icon/edit.png" alt="Edit Icon"></button>
                <button class="p-2" onclick="checkDeleteCategory()"><img src="icon/delete.png" alt="Delete Icon"></button>
              </td>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>
  </div>

  <!-- Modal: Add Category -->
  <div id="addCategoryModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-1/3">
      <h3 class="text-2xl mb-4 font-semibold text-center">Tambah Kategori Baru</h3>
      <form>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Nama Kategori</label>
          <input type="text" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="Masukkan nama kategori">
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Deskripsi</label>
          <textarea class="w-full p-2 border border-gray-300 rounded-lg" rows="3" placeholder="Masukkan deskripsi kategori"></textarea>
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Icon</label>
          <input type="file" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Banner</label>
          <input type="file" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="flex justify-evenly">
          <button type="button" onclick="openConfirmModal()" class="w-1/3 bg-red-600 text-white py-2 px-4 rounded-lg">Tambah Kategori</button>
          <button type="button" onclick="closeAddCategoryModal()" class="w-1/3 bg-gray-300 py-2 px-4 rounded-lg">Batal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: Edit Category -->
  <div id="editCategoryModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-1/3">
      <h3 class="text-2xl mb-4 font-semibold text-center">Edit Kategori</h3>
      <form>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Nama Kategori</label>
          <input type="text" class="w-full p-2 border border-gray-300 rounded-lg" id="editCategoryName" value="Merchandise">
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Deskripsi</label>
          <textarea class="w-full p-2 border border-gray-300 rounded-lg" rows="3" id="editCategoryDescription">Nikmati kualitas premium</textarea>
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Icon</label>
          <input type="file" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-gray-700">Banner</label>
          <input type="file" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="flex justify-evenly">
          <button type="button" onclick="openEditConfirmModal()" class="w-1/3 bg-red-600 text-white py-2 px-4 rounded-lg">Edit Kategori</button>
          <button type="button" onclick="closeEditCategoryModal()" class="w-1/3 bg-gray-300 py-2 px-4 rounded-lg">Batal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: Confirm Edit Category -->
  <div id="editConfirmModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-fit">
      <h3 class="text-2xl mb-6 font-semibold text-center">Konfirmasi Edit Kategori</h3>
      <p class="text-center">Apakah Anda yakin ingin menyimpan perubahan kategori ini?</p>
      <div class="flex justify-evenly mt-6">
        <button onclick="submitEditCategory()" class="bg-red-600 w-1/3 text-white py-2 px-4 mx-2 rounded-lg">Ya</button>
        <button onclick="closeEditConfirmModal()" class="bg-gray-300 w-1/3 py-2 px-4 mx-2 rounded-lg">Batal</button>
      </div>
    </div>
  </div>

  <!-- Modal: Success Edit -->
  <div id="successEditModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-1/3">
      <h3 class="text-2xl mb-4 font-semibold text-center">Kategori Berhasil Diedit</h3>
      <img src="icon/Done (1).gif" alt="Success Icon" class="mx-auto mb-5 mt-6 w-2/12">
      <div class="flex justify-center mt-10">
        <button type="button" class="bg-red-600 text-white py-3 px-4 rounded-lg w-1/3" onclick="closeSuccessEditModal()">Tutup</button>
      </div>
    </div>
  </div>

  <!-- Modal: Confirm Delete Category -->
  <div id="deleteConfirmModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-fit">
      <h3 class="text-2xl mb-6 font-semibold text-center">Konfirmasi Hapus Kategori</h3>
      <p class="text-center">Apakah Anda yakin ingin menghapus kategori ini?</p>
      <div class="flex justify-evenly mt-6">
        <button onclick="submitDeleteCategory()" class="bg-red-600 w-1/3 text-white py-2 px-4 mx-2 rounded-lg">Ya</button>
        <button onclick="closeDeleteConfirmModal()" class="bg-gray-300 w-1/3 py-2 px-4 mx-2 rounded-lg">Batal</button>
      </div>
    </div>
  </div>

  <!-- Modal: Success Delete Category -->
  <div id="successDeleteModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-1/3">
      <h3 class="text-2xl mb-4 font-semibold text-center">Kategori Berhasil Dihapus</h3>
      <img src="icon/Done (1).gif" alt="Success Icon" class="mx-auto mb-5 mt-6 w-2/12">
      <div class="flex justify-center mt-10">
        <button type="button" class="bg-red-600 text-white py-3 px-4 rounded-lg w-1/3" onclick="closeSuccessDeleteModal()">Tutup</button>
      </div>
    </div>
  </div>

  <!-- Modal: Warning Cannot Delete Category -->
  <div id="cannotDeleteModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full md:w-1/3">
      <h3 class="text-2xl mb-4 font-semibold text-center text-red-600">Kategori Tidak Bisa Dihapus</h3>
      <p class="text-center">Kategori ini masih memiliki produk dan tidak dapat dihapus.</p>
      <div class="flex justify-center mt-10">
        <button type="button" class="bg-gray-300 py-3 px-4 rounded-lg w-1/3" onclick="closeCannotDeleteModal()">Tutup</button>
      </div>
    </div>
  </div>

  <script>
    // Tambah Kategori baru
    function openAddCategoryModal() {
      document.getElementById('addCategoryModal').classList.remove('hidden');
    }

    function closeAddCategoryModal() {
      document.getElementById('addCategoryModal').classList.add('hidden');
    }

    function openConfirmModal() {
      document.getElementById('confirmModal').classList.remove('hidden');
    }

    function closeConfirmModal() {
      document.getElementById('confirmModal').classList.add('hidden');
    }

    function submitCategory() {
      closeConfirmModal();
      closeAddCategoryModal();
      setTimeout(() => {
        document.getElementById('successModal').classList.remove('hidden');
      }, 500);
    }

    function closeSuccessModal() {
      document.getElementById('successModal').classList.add('hidden');
    }

    //Edit Kategori
    function openEditCategoryModal() {
      document.getElementById('editCategoryModal').classList.remove('hidden');
    }

    function closeEditCategoryModal() {
      document.getElementById('editCategoryModal').classList.add('hidden');
    }

    function openEditConfirmModal() {
      document.getElementById('editConfirmModal').classList.remove('hidden');
    }

    function closeEditConfirmModal() {
      document.getElementById('editConfirmModal').classList.add('hidden');
    }

    function submitEditCategory() {
      closeEditConfirmModal();
      closeEditCategoryModal();
      setTimeout(() => {
        document.getElementById('successEditModal').classList.remove('hidden');
      }, 500);
    }

    function closeSuccessEditModal() {
      document.getElementById('successEditModal').classList.add('hidden');
    }

    // Delete Kategori
    function checkDeleteCategory() {
      const productCount = parseInt(document.getElementById('productCount').textContent);

      if (productCount > 0) {
        // Kategori tidak bisa dihapus karena masih memiliki produk
        document.getElementById('cannotDeleteModal').classList.remove('hidden');
      } else {
        // Tampilkan modal konfirmasi hapus jika tidak ada produk
        document.getElementById('deleteConfirmModal').classList.remove('hidden');
      }
    }

    function closeCannotDeleteModal() {
      document.getElementById('cannotDeleteModal').classList.add('hidden');
    }

    function closeDeleteConfirmModal() {
      document.getElementById('deleteConfirmModal').classList.add('hidden');
    }

    function submitDeleteCategory() {
      closeDeleteConfirmModal();
      setTimeout(() => {
        document.getElementById('successDeleteModal').classList.remove('hidden');
      }, 500);
    }

    function closeSuccessDeleteModal() {
      document.getElementById('successDeleteModal').classList.add('hidden');
    }
  </script>
</body>

</html>
